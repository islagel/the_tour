---
title: "Scraping"
output: html_document
---
```{r, include = FALSE}
library(tidyverse)
library(stringr)
library(rvest)
library(httr)
```

Loading in the data

```{r}
# checkout the website below first
tour <- read_html("https://en.wikipedia.org/wiki/List_of_Tour_de_France_general_classification_winners")
tables <- html_nodes(tour, css = "table") 
tables  # have to guesstimate which table contains climate info
tour_data <- html_table(tables, header = TRUE, fill = TRUE)[[3]]    
# note: not html_text
as_tibble(tour_data)
head(tour_data, n=10)
```


#General Classification Riders
(Not able to figure this out yet. Asking tomorrow)

```{r}
rec_stat <- read_html("https://en.wikipedia.org/wiki/Tour_de_France_records_and_statistics#Stage_wins_per_rider")

stage_wins <- html_nodes(rec_stat, xpath = "//*[@id='mw-content-text']/div/table[3]")%>%
  html_table(fill = TRUE)  


```

Starting to clean the data. 

```{r}
tour_data %>%
  mutate_all(funs(ifelse(.=="World War II", NA, .))) %>%
  mutate_all(funs(ifelse(.=="World War I", NA, .)))

```


